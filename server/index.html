<!doctype html>
<html>
<!--<head>-->
    <!--<title>Socket.IO chat</title>-->
    <!--<style>-->
        <!--canvas {-->
            <!--height: 800px;-->
            <!--width: 800px;-->
        <!--}-->
    <!--</style>-->
<!--</head>-->
<body>
<canvas id="canvas" height="800" width="800"></canvas>
</body>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');

    ctx.fillStyle = 'green';

    ctx.fillRect(0, 0, 1000, 1000);

    $(function () {
        const socket = io();
        socket.on('pong', function(msg){
            ctx.fillRect(0, 0, 1000, 1000);
            msg.bounds.forEach((element) => {
                ctx.beginPath();
                ctx.moveTo(element.start[0], element.start[1]);
                ctx.lineTo(element.end[0], element.end[1]);
                ctx.stroke();
                ctx.closePath();
            })

        });
    });
</script>
</html>